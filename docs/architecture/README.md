# 技术架构文档

本目录包含 FlowSight 的核心技术架构和算法设计文档。

## 📄 文档列表

| 文档 | 描述 |
|------|------|
| [KNOWLEDGE-BASE-SCHEMA.md](KNOWLEDGE-BASE-SCHEMA.md) | 知识库 YAML Schema 设计规范 |
| [POINTER-ANALYSIS.md](POINTER-ANALYSIS.md) | 函数指针分析算法实现方案 |
| [MULTI-LANGUAGE-ABSTRACTION.md](MULTI-LANGUAGE-ABSTRACTION.md) | 多语言统一抽象层 (UIR) 设计 |

## 📋 待添加

- `PARSER-DESIGN.md` - 解析器架构设计
- `CALL-GRAPH.md` - 调用图构建算法
- `ASYNC-TRACKING.md` - 异步执行流追踪机制
- `STORAGE-DESIGN.md` - 存储层设计（SQLite + sled）
- `LSP-PROTOCOL.md` - 语言服务协议扩展

## 🏗️ 架构概览

```
┌─────────────────────────────────────────────────────────────┐
│                        Frontend (Tauri)                      │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────────────────┐ │
│  │ Monaco Edit │ │ Flow View   │ │ Tree/Graph Panels       │ │
│  └─────────────┘ └─────────────┘ └─────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
                              │ IPC
┌─────────────────────────────────────────────────────────────┐
│                      Core Engine (Rust)                      │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────────────────┐ │
│  │ Parsers     │ │ Analyzers   │ │ Knowledge Matcher       │ │
│  │ tree-sitter │ │ Pointer     │ │ Pattern Engine          │ │
│  │ libclang    │ │ Flow        │ │ YAML Loader             │ │
│  └─────────────┘ └─────────────┘ └─────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
                              │
┌─────────────────────────────────────────────────────────────┐
│                    Storage (SQLite + sled)                   │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────────────────┐ │
│  │ Symbols     │ │ Call Graph  │ │ Knowledge Cache         │ │
│  └─────────────┘ └─────────────┘ └─────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

## 🔑 核心概念

- **UIR (Unified IR)** - 统一中间表示，抽象不同语言的语法结构
- **Knowledge Base** - 领域知识库，存储框架模式和语义规则
- **Flow Graph** - 执行流图，表示函数调用和异步跳转关系
- **Pointer Analysis** - 指针分析，解析函数指针和回调目标

